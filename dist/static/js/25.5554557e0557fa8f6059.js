webpackJsonp([25],{"/CeH":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={name:"pages_scoreCardPreview",data:function(){return{variableList:[],featureList:[],modelAdd:{},loading:!0,initScore:""}},created:function(){console.time("mounted"),this.getVariableList(),this.getFeatureList()},mounted:function(){console.timeEnd("mounted"),console.time("updated")},updated:function(){console.timeEnd("updated")},filters:{operationVal:function(e){switch(e){case 1:return"=";case 2:return"!=";case 3:return"is null";case 4:return">";case 5:return">=";case 6:return"<";case 7:return"<=";case 8:return"startWith";case 9:return"contains"}}},methods:{getFeatureList:function(){var e=this;this.$post("/mcs/scorecard/content",{moldId:this.$route.query.modelId}).then(function(t){console.time("getFeatureList"),e.featureList=t.featureList,e.loading=!1,e.initScore=t.initialRate,e.modelAdd.moldName=t.moldName,e.modelAdd.moldCode=t.moldCode,e.modelAdd.remark=t.remark?t.remark:"",e.modelAdd.moldType=t.moldType,e.modelAdd.moldVersion=t.moldVersion,e.modelAdd.moldStatus=t.moldStatus})},getVariableList:function(e){var t=this;this.$post("/mcs/variable/config/list",{appId:this.$route.query.appId}).then(function(e){t.variableList=e.variableList})},getVarName:function(e){var t="";return this.variableList.map(function(r){e==r.variableId&&(console.log(e,r.variableName),t=r.variableName)}),t}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"pages_scoreCardPreview",staticClass:"pages_scoreCardPreview relative",attrs:{id:"pages_scoreCardPreview"}},[r("div",{staticClass:"titleDiv"},[r("p",[e._v("模型名称："+e._s(e.modelAdd.moldName))]),e._v(" "),r("p",[e._v("模型编码："+e._s(e.modelAdd.moldCode))]),e._v(" "),r("el-popover",{attrs:{placement:"right-start",title:"备注",width:"300",trigger:"hover"}},[r("p",{staticStyle:{"max-width":"280px","white-space":"normal","word-break":"break-word"}},[e._v(e._s(e.modelAdd.remark))]),e._v(" "),r("span",{attrs:{slot:"reference"},slot:"reference"},[e._v("备注信息："),r("i")])])],1),e._v(" "),r("div",{staticClass:"initScore"},[r("span",[e._v("初始评分：")]),e._v(" "),r("span",{staticStyle:{display:"inline-block",width:"140px","margin-bottom":"20px"}},[e._v(e._s(e.initScore))])]),e._v(" "),r("el-table",{ref:"table",staticClass:"scoreCardPreviewTable",attrs:{data:e.featureList,border:"","header-row-class-name":"table_hd","header-cell-class-name":"table_th","row-class-name":"table_tr","cell-class-name":"table_td",width:"100%",fit:!0}},[r("el-table-column",{attrs:{label:"特征",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._l(t.row.featureRuleList,function(t,a){return 0==a?r("div",{staticClass:"varNameItem overhide",class:{hidden:0!=a}},e._l(t.rule.ruleContent,function(a,l){return r("div",{staticClass:"varName",attrs:{title:a.variableName}},[r("div",{staticClass:"fl overhide"},[e._v(e._s(a.variableName))]),e._v(" "),t.rule.ruleContent.length>1&&l==(t.rule.ruleContent.length%2==1?(t.rule.ruleContent.length/2).toFixed()-1:t.rule.ruleContent.length/2)?r("div",{staticClass:"ruleConOpr fr mg_r_5",class:{"mg_t-20":t.rule.ruleContent.length%2==0}},[e._v("\n                            "+e._s(1==t.rule.logic?"AND":"OR")+"\n                        ")]):e._e()])})):e._e()}),e._v(" "),r("div",{staticClass:"featureWeight varNameItem mg_t_10"},[e._v("\n                    权重："+e._s(t.row.featureWeight)+"\n                ")]),e._v(" "),r("div",{staticClass:"special"},[r("div",{staticClass:"missScore varNameItem"},[e._v("\n                        其他时系数值："+e._s(t.row.missScore)+"\n                    ")]),e._v(" "),r("div",{staticClass:"exceptionScore varNameItem"},[e._v("\n                        异常时系数值："+e._s(t.row.exceptionScore)+"\n                    ")])])]}}])}),e._v(" "),r("el-table-column",{attrs:{label:"条件",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.featureRuleList,function(t,a){return r("div",{staticClass:"frItem",attrs:{frIndex:a}},e._l(t.rule.ruleContent,function(a,l){return r("div",{staticClass:"ruleConItem",class:{areaLine:t.rule.ruleContent.length>1},attrs:{ruleConIndex:l}},[e._l(a.content,function(t,l){return 5!=a.variableType&&6!=a.variableType||0==l?r("div",{key:l,staticClass:"ruleConItemCell overhide0",class:{mg_t_10:l>0&&"look"!=e.$route.query.type,"inlineBlock text-top":"look"==e.$route.query.type}},[5!=a.variableType&&1==l?r("span",{staticClass:"mg_l_10 mg_r_10"},[e._v(e._s(1==a.logic?"AND":"OR"))]):e._e(),e._v(" "),5==a.variableType&&0==l?r("span",e._l(a.content.map(function(e){return e.valueDescription}),function(t,l){return r("span",[e._v(e._s(t)+"\n                                        "),l<a.content.length-1?[e._v("、")]:e._e()],2)})):6==a.variableType?r("span",[e._v(e._s(t.valueDescription))]):r("span",[e._v(e._s(e._f("operationVal")(t.operation))+" "+e._s(t.operationValue))])]):e._e()})],2)}))})}}])}),e._v(" "),r("el-table-column",{attrs:{label:"系数",align:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.featureRuleList,function(t,a){return r("div",{staticClass:"frItem"},e._l(t.rule.ruleContent,function(a,l){return l==(t.rule.ruleContent.length%2==1?(t.rule.ruleContent.length/2).toFixed()-1:t.rule.ruleContent.length/2)?r("div",{staticClass:"ruleConItem",class:{hidden:l!=(t.rule.ruleContent.length%2==1?(t.rule.ruleContent.length/2).toFixed()-1:t.rule.ruleContent.length/2)}},[e._l(t.coefficientObject,function(t,a){return[2==t.type?r("div",{staticClass:"inlineBlock"},[e._v(e._s(e.getVarName(t.value)))]):r("div",{staticClass:"inlineBlock"},[e._v(e._s(t.value))])]})],2):r("div",{staticClass:"ruleConItem"})}))})}}])})],1)],1)},staticRenderFns:[]};var n=r("C7Lr")(a,l,!1,function(e){r("y2oD")},null,null);t.default=n.exports},y2oD:function(e,t){}});